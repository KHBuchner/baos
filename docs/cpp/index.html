<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BAOS SDK: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BAOS SDK
   &#160;<span id="projectnumber">16.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BAOS SDK Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This header includes all the top level BAOS interpretation classes. and form the main BAOS API</p>
<p>The kdrive BAOS client library is a C++ implementation of the KnxBAOS Protocol Versions 1.2 and 2.0. A managed C++ .NET wrapper is also implemented to enable application development with C# or Visual Basic .NET. The class library aligns itself with the KnxBAOS protocol, and for each protocol message type a corresponding class is available to send/receive the message data. In addition several convenience classes are provided to interpret the information, such as a Datapoint class for converting the raw byte stream into a specific parameter type.</p>
<p>For information on the BAOS device, see: <a href="http://www.weinzierl.de/en/products/770.html">http://www.weinzierl.de/en/products/770.html</a> <a href="http://www.weinzierl.de/en/products/771.html">http://www.weinzierl.de/en/products/771.html</a> <a href="http://www.weinzierl.de/en/products/772.html">http://www.weinzierl.de/en/products/772.html</a></p>
<h1><a class="anchor" id="Tutorial"></a>
Tutorial</h1>
<p>This section presents several simple tutorials. For more information please refer to the kdrive BAOS samples.</p>
<h2><a class="anchor" id="set_dpt"></a>
Set a Datapoint Value</h2>
<div class="fragment"><div class="line">ScopedBaosConnection connection(ipAddress);</div><div class="line">Connector::Ptr connector = connection.getConnector();</div><div class="line">BaosDatapoint d(connector, 1);</div><div class="line">d.setBoolean(enabled);</div></div><!-- fragment --><p>First we instantiate a ScopedBaosConnection. This class is responsible for creating a TCP/IP Stream Connector which automatically connects to the BAOS device. When the ScopedBaosConnection goes out of scope it automatically closes the connection (i.e. RAII). The second line gets the abstract Connector from the ScopedBaosConnection. This connector is used in the library to abstract away physical communication details. We create a BaosDatapoint class and provide it with the connector and the datapoint id, in this case 1 indicating the first id. Finally we set the boolean value. Note, there are a number of formatting functions available to set datapoint values.</p>
<h2><a class="anchor" id="set_dpt"></a>
Set a Datapoint Value</h2>
<div class="fragment"><div class="line">ScopedBaosConnection connection(ipAddress);</div><div class="line">BaosConnector::Ptr connector = connection.getConnector();</div><div class="line">BaosEvent baosEvent(connector);</div><div class="line">baosEvent.setDatapointEvent(onDatapointIndication);</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">void onDatapointIndication(BaosDatapoint&amp; datapoint)</div><div class="line">{</div><div class="line">        ... <span class="keywordflow">do</span> something with the indication</div><div class="line">}</div></div><!-- fragment --><p>In this example we wait for an asynchronous datapoint value indication from the BAOS device using the BaosEvent class. Each Connector has a packet notification signal which passes Rx and Tx packets from the connector to (multiple) observers (in this case, a packet is a BAOS protocol message). This notification mechanism includes all packets sent to and from the BAOS device however we need to filter these packets when we are only interested in the asynchronous datapoint indication messages. This is what happens in BaosEvent. When an indication arrives, it is forwarded to the callback function. Note: all GetDatapointValue responses are also treated as indications, so on startup you can simply request the datapoint values for all objects that you are interested in and handle the responses with the standard indication handler.</p>
<h2><a class="anchor" id="dp_desc"></a>
Read datapoint descriptions</h2>
<div class="fragment"><div class="line">ScopedBaosConnection connection(ipAddress);</div><div class="line">BaosConnector::Ptr connector = connection.getConnector();</div><div class="line"></div><div class="line"><span class="comment">// reads all configured (enabled) datapoint descriptions from the device</span></div><div class="line">BaosDatapointDescriptions baosDatapointDescriptions(connector);</div><div class="line">baosDatapointDescriptions.readFromDevice();</div><div class="line"></div><div class="line"><span class="comment">// trace the descriptions</span></div><div class="line"><span class="keyword">const</span> BaosDatapointDescriptions::Descriptions descriptions = baosDatapointDescriptions.getDescriptions();</div><div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; item, descriptions)</div><div class="line">{</div><div class="line">        poco_information(LOGGER(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line">        <span class="keyword">const</span> BaosDatapointDescription&amp; desc = item.second;</div><div class="line">        poco_information_f1(LOGGER(), <span class="stringliteral">&quot;Datapoint id: %d&quot;</span>, static_cast&lt;int&gt;(desc.getId()));</div><div class="line">        poco_information_f1(LOGGER(), <span class="stringliteral">&quot;Datapoint type: %d&quot;</span>, static_cast&lt;int&gt;(desc.getDatapointType()));</div><div class="line"></div><div class="line">        <span class="comment">// reads the datapoint string</span></div><div class="line">        BaosDatapoint datapoint(connector, desc.getId());</div><div class="line">        poco_information_f1(LOGGER(), <span class="stringliteral">&quot;Description string: %s&quot;</span>, datapoint.getDescriptionString());</div><div class="line">}</div></div><!-- fragment --><p>In this example we reads all (in the ETS) enabled datapoint descriptions. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 8 2016 11:09:59 for BAOS SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
